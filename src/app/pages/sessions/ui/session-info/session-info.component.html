<h2>Session Info</h2>

<div *ngIf="session.status !== 'notStarted'">
    <h3>Configuration</h3>
    <app-config-info [config]="session.configuration" [session]="session"></app-config-info>
</div>

<div>
    <h3>Meta</h3>
    <mat-form-field>
        <mat-label>ID</mat-label>
        <input matInput [value]="session.id" [readonly]="true">
    </mat-form-field>
    <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput [value]="session.name" [readonly]="true">
    </mat-form-field>
    <div *ngIf="controlSession" class="control-id">
        <mat-form-field class="control-id-text">
            <mat-label>ControlId</mat-label>
            <input matInput [value]="controlSession.controlId" [readonly]="true" [hidden]="hideControlId">
        </mat-form-field>
        <button mat-button class="control-id-button" fill="clear" (click)="showControlId()">
            Show Control ID
        </button>
    </div>
    <mat-form-field>
        <mat-label>Status</mat-label>
        <input matInput [value]="session.status" [readonly]="true">
    </mat-form-field>
    <mat-form-field>
        <mat-label>Expiration Time</mat-label>
        <input matInput [value]="session.expirationTime" [readonly]="true">
    </mat-form-field>
    <mat-form-field>
        <mat-label>Link</mat-label>
        <input matInput class="hidden">
        <a [href]="sessionLink" class="form-field-link">{{sessionLink}}</a>
        <button mat-button class="btn-circle form-field-button" (click)="copyLink()"><mat-icon>file_copy</mat-icon></button>
    </mat-form-field>


    <div class="qrcode" [class.fullscreen]="isQrFullscreen" (click)="switchQrFullscreen($event)" >        
        <qrcode ngClass="code-data" [qrdata]="sessionLink" [width]="256" [errorCorrectionLevel]="'L'"
            (click)="openLink()"></qrcode>
        
        <button mat-button class="btn-circle" (click)="switchQrFullscreen($event)" title="Fullscreen"><mat-icon>fullscreen</mat-icon></button>
    </div>
</div>