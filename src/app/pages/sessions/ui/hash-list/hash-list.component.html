<div *ngIf="session?.status === 'preparing'">
    <input matInput [readonly]="true" [formControl]="hashRateControl" />
    <button mat-button fill="clear" slot="end" (click)="determine()">
        determine
    </button>
    <br>

    <ng-container *ngTemplateOutlet="console"></ng-container>
</div>

<div *ngIf="session?.status === 'started'">
    <ng-container *ngTemplateOutlet="console"></ng-container>
</div>

<ng-template #console>
    <div *ngFor="let block of powService.blocks" class="block">

        <mat-form-field>
            <mat-label>Text</mat-label>
            <input matInput [value]="block.text" [readonly]="true">
        </mat-form-field>
        -
        <mat-form-field>
            <mat-label>Hash</mat-label>
            <input matInput [value]="block.hash" [readonly]="true">
        </mat-form-field>

    </div>
</ng-template>

<div *ngIf="session?.status === 'stopped'">
    <div *ngIf="user?.status === 'notReady';else userView">
        Session is over, please wait until next round!
    </div>
    <ng-template #userView>
        <span *ngIf="isMe" class="winner">
            WIN!!!!
        </span>
        <span *ngIf="!isMe" class="loser">
            LOSE!!!!
        </span>
        <ul>
            <li>
                <mat-form-field>
                    <mat-label>Winner</mat-label>
                    <input matInput [value]="winner" [readonly]="true">
                </mat-form-field>
            </li>
            <li>
                <mat-form-field>
                    <mat-label>Text</mat-label>
                    <input matInput [value]="winnerBlock.text" [readonly]="true">
                </mat-form-field>
            </li>
            <li>
                <mat-form-field>
                    <mat-label>Hash</mat-label>
                    <input matInput [value]="winnerBlock.hash" [readonly]="true">
                </mat-form-field>
            </li>
        </ul>
    </ng-template>
</div>