<div class="content simulation-container">
    <mat-tab-group mat-align-tabs="center" [selectedIndex]="selectedTabIndex"
        (selectedTabChange)="onTabChanged($event)">
        <mat-tab *ngIf="simulationDefinition || videoId">
            <ng-template mat-tab-label>
                <span class="mat-tab-label">Definition</span>
            </ng-template>

            <div *ngIf="simulationDefinition || videoId" class="info-card simulation-definition">
                <div *ngIf="videoId" class="video-explanation">  
                  <youtube-player [videoId]="videoId"></youtube-player>
                </div>
                <div *ngIf="simulationDefinition" class="text-explanation">
                    <ng-container  [ngTemplateOutlet]="simulationDefinition"></ng-container>
                </div>
            </div>
        </mat-tab>

        <mat-tab>
            <ng-template mat-tab-label>
                <span class="mat-tab-label">Simulation</span>
            </ng-template>
            <div [class]="(isHandset$ | async) ? 'simulation-items-handset': 'simulation-items'">
                <div *ngIf="simulationControls && !(isHandset$ | async)" class="text info-card simulation-controls">
                    <ng-container [ngTemplateOutlet]="simulationControls"></ng-container>
                </div>

                <div *ngIf="simulationBody" class="simulation">
                    <ng-container [ngTemplateOutlet]="simulationBody"></ng-container>
                </div>
            </div>
        </mat-tab>
        
        <mat-tab *ngIf="simulationControls && (isHandset$ | async)">
            <ng-template mat-tab-label>
                <span class="mat-tab-label">Optionen</span>
            </ng-template>
            <div class="simulation-items-handset">
                <div class="text info-card simulation-controls">
                    <ng-container [ngTemplateOutlet]="simulationControls"></ng-container>
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>